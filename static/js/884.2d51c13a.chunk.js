"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[884],{8914:function(e,t,r){r.d(t,{i:function(){return i}});var n=r(4165),a=r(5861),c=r(9439),s=r(2791),i=function(){var e=(0,s.useState)(!1),t=(0,c.Z)(e,2),r=t[0],i=t[1],o=(0,s.useState)(null),u=(0,c.Z)(o,2),p=u[0],l=u[1],v=(0,s.useState)(""),h=(0,c.Z)(v,2),f=h[0],d=h[1],x=(0,s.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,t;case 4:r=e.sent,l(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d(e.t0);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{isFetching:r,data:p,error:f,fetchData:x}}},2884:function(e,t,r){r.r(t);var n,a,c,s,i,o,u=r(4165),p=r(5861),l=r(9439),v=r(168),h=r(1087),f=r(7689),d=r(2791),x=r(8914),Z=r(3157),g=r(9202),w=r(184),m=g.Z.section(n||(n=(0,v.Z)(["\n  padding-top: 16px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid var(--cornflower, #e7e9fc);\n"]))),b=g.Z.div(a||(a=(0,v.Z)(["\n  display: flex;\n"]))),k=g.Z.div(c||(c=(0,v.Z)(["\n  min-width: 300px;\n"]))),j=g.Z.div(s||(s=(0,v.Z)(["\n  padding: 0 32px;\n"]))),y=g.Z.ul(i||(i=(0,v.Z)(["\n  display: felex;\n  justify-content: center;\n  align-items: center;\n  gap: 40px;\n"]))),_=(0,g.Z)(h.OL)(o||(o=(0,v.Z)(["\n  font-size: 20px;\n  display: inline-block;\n  color: #2e2f42;\n  font-weight: 500;\n  line-height: 1.5;\n  letter-spacing: 0.32px;\n  &.active {\n    color: orange;\n  }\n"])));t.default=function(){var e,t,r=(0,f.TH)(),n=(0,d.useRef)(null!==(e=null===(t=r.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies"),a=(0,f.UO)().movieId,c=(0,d.useState)(null),s=(0,l.Z)(c,2),i=s[0],o=s[1],v=(0,x.i)(),h=v.isFetching,g=v.data,I=v.error,M=v.fetchData;return(0,d.useEffect)((function(){M(Z.Z.getMovieDetails(a))}),[M,a]),(0,d.useEffect)((function(){var e=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Z.Z.getMovieImage(g.backdrop_path);case 5:t=e.sent,o(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){i&&URL.revokeObjectURL(i)}}),[g,a]),h||null===g?(0,w.jsx)("p",{children:"Loading..."}):I?(0,w.jsxs)("p",{children:["Error: ",I]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(m,{children:[(0,w.jsx)(_,{to:n.current,"aria-label":"Back to movies",children:"back"}),(0,w.jsxs)(b,{children:[(0,w.jsx)(k,{children:(0,w.jsx)("img",{src:i,alt:""})}),(0,w.jsxs)(j,{children:[(0,w.jsx)("h2",{children:g.original_title}),(0,w.jsx)("p",{children:g.overview}),(0,w.jsx)("h3",{children:"Genres"}),(0,w.jsx)("ul",{children:g.genres.map((function(e){return(0,w.jsx)("li",{children:e.name},e.id)}))})]})]})]}),(0,w.jsxs)(m,{children:[(0,w.jsxs)(y,{children:[(0,w.jsx)("li",{children:(0,w.jsx)(_,{to:"cast",children:"cast"})}),(0,w.jsx)("li",{children:(0,w.jsx)(_,{to:"reviews",children:"reviews"})})]}),(0,w.jsx)(d.Suspense,{children:(0,w.jsx)(f.j3,{})})]})]})}},3157:function(e,t,r){var n=r(4165),a=r(5861),c=r(5671),s=r(3144),i=r(1243),o=function(){function e(){(0,c.Z)(this,e),this.axiosInstance=i.Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"aa1de53af4f58d0982608e428ee96b57"}})}return(0,s.Z)(e,[{key:"getTrendingMovies",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"day",e.prev=1,e.next=4,this.axiosInstance.get("/trending/all/".concat(t));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0438\u0445 \u0444\u0456\u043b\u044c\u043c\u0456\u0432 ",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"searchMovies",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/search/movie",{params:{query:t}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0448\u0443\u043a\u0443 \u0444\u0456\u043b\u044c\u043c\u0443",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieDetails",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/movie/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieImage",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://image.tmdb.org/t/p/w300/").concat(t),e.next=4,i.Z.get(r,{responseType:"blob"});case 4:return a=e.sent,e.abrupt("return",URL.createObjectURL(a.data));case 8:e.prev=8,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieCredits",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/movie/".concat(t,"/credits"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0430\u043a\u0442\u043e\u0440\u0441\u044c\u043a\u043e\u0433\u043e \u0441\u043a\u043b\u0430\u0434\u0443:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieReviews",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/movie/".concat(t,"/reviews"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432 \u043f\u0440\u043e \u0444\u0456\u043b\u044c\u043c:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.Z=new o}}]);
//# sourceMappingURL=884.2d51c13a.chunk.js.map