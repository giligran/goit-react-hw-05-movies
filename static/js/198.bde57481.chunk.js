"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[198],{4198:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var n=r(8914),a=r(2791),s=r(7689),c=r(3157),i=r(4540),u=r(184);var o=function(e){var t=e.review;return(0,u.jsxs)("li",{children:[(0,u.jsxs)("h3",{children:["Author: ",t.author]}),(0,u.jsx)("p",{children:t.content}),t.author_details.rating&&(0,u.jsxs)("p",{children:["Rating: ",t.author_details.rating]}),(0,u.jsxs)("p",{children:["Published: ",new Date(t.created_at).toLocaleDateString()]}),(0,u.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:"Read more"}),(0,u.jsx)("hr",{})]})};var v=function(e){var t=e.reviews;return(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"Reviews"}),t&&t.length>0?(0,u.jsx)("ul",{children:t.map((function(e){return(0,u.jsx)(o,{review:e},e.id)}))}):(0,u.jsx)("p",{children:"No reviews available."})]})};var p=function(){var e=(0,n.i)(),t=e.isFetching,r=e.data,o=e.error,p=e.fetchData,h=(0,s.UO)().movieId;return(0,a.useEffect)((function(){p(c.Z.getMovieReviews(h))}),[p,h]),t?(0,u.jsx)(i.Z,{open:!0}):o?(0,u.jsx)("p",{children:o}):(0,u.jsx)(v,{reviews:null===r||void 0===r?void 0:r.results})}},8914:function(e,t,r){r.d(t,{i:function(){return i}});var n=r(4165),a=r(5861),s=r(9439),c=r(2791),i=function(){var e=(0,c.useState)(!1),t=(0,s.Z)(e,2),r=t[0],i=t[1],u=(0,c.useState)(null),o=(0,s.Z)(u,2),v=o[0],p=o[1],h=(0,c.useState)(""),l=(0,s.Z)(h,2),f=l[0],d=l[1],x=(0,c.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,t;case 4:r=e.sent,p(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d(e.t0);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{isFetching:r,data:v,error:f,fetchData:x}}},3157:function(e,t,r){var n=r(4165),a=r(5861),s=r(5671),c=r(3144),i=r(1243),u=function(){function e(){(0,s.Z)(this,e),this.axiosInstance=i.Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"aa1de53af4f58d0982608e428ee96b57"}})}return(0,c.Z)(e,[{key:"getTrendingMovies",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"day",e.prev=1,e.next=4,this.axiosInstance.get("/trending/all/".concat(t));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0438\u0445 \u0444\u0456\u043b\u044c\u043c\u0456\u0432 ",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"searchMovies",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/search/movie",{params:{query:t}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0448\u0443\u043a\u0443 \u0444\u0456\u043b\u044c\u043c\u0443",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieDetails",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/movie/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieImage",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://image.tmdb.org/t/p/w300/").concat(t),e.next=4,i.Z.get(r,{responseType:"blob"});case 4:return a=e.sent,e.abrupt("return",URL.createObjectURL(a.data));case 8:e.prev=8,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieCredits",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/movie/".concat(t,"/credits"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0430\u043a\u0442\u043e\u0440\u0441\u044c\u043a\u043e\u0433\u043e \u0441\u043a\u043b\u0430\u0434\u0443:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieReviews",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/movie/".concat(t,"/reviews"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432 \u043f\u0440\u043e \u0444\u0456\u043b\u044c\u043c:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.Z=new u}}]);
//# sourceMappingURL=198.bde57481.chunk.js.map