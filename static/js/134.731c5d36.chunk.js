"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[134],{1168:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(4540),a=r(7689),c=r(1087),s=r(184);var i,o=function(e){var t,r=e.movie,n=(0,a.TH)();if(!r)return null;var i=null!==(t=r.name)&&void 0!==t?t:r.title;return(0,s.jsx)("li",{children:(0,s.jsx)(c.rU,{to:"/movies/".concat(r.id),state:{from:n},children:i})})},u=r(168),v=r(9202).Z.ul(i||(i=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"])));var p=function(e){var t=e.error,r=e.isFetching,a=e.movies;return(0,s.jsx)("div",{children:r?(0,s.jsx)(n.Z,{open:!0}):(0,s.jsx)(v,{children:a&&a.length>0?a.map((function(e){return(0,s.jsx)(o,{movie:e,error:t,isFetching:r},e.id)})):(0,s.jsx)("p",{children:"No movies available."})})})}},8914:function(e,t,r){r.d(t,{i:function(){return i}});var n=r(4165),a=r(5861),c=r(9439),s=r(2791),i=function(){var e=(0,s.useState)(!1),t=(0,c.Z)(e,2),r=t[0],i=t[1],o=(0,s.useState)(null),u=(0,c.Z)(o,2),v=u[0],p=u[1],h=(0,s.useState)(""),l=(0,c.Z)(h,2),f=l[0],d=l[1],x=(0,s.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,t;case 4:r=e.sent,p(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d(e.t0);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{isFetching:r,data:v,error:f,fetchData:x}}},1134:function(e,t,r){r.r(t);var n=r(9439),a=r(1087),c=r(8914),s=r(3157),i=r(1168),o=r(2791),u=r(184);t.default=function(){var e,t=(0,a.lr)(),r=(0,n.Z)(t,2),v=r[0],p=r[1],h=null!==(e=v.get("query"))&&void 0!==e?e:"",l=(0,c.i)(),f=l.isFetching,d=l.data,x=l.error,Z=l.fetchData;(0,o.useEffect)((function(){h&&Z(s.Z.searchMovies(h))}),[h,Z]);var m=null===d||void 0===d?void 0:d.results;return(0,u.jsxs)("section",{children:[(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;h&&(t.reset(),Z(s.Z.searchMovies(h)))},children:[(0,u.jsx)("label",{htmlFor:"searchInput",children:"Search:"}),(0,u.jsx)("input",{type:"text",id:"searchInput",placeholder:"Enter a search term",onChange:function(e){return function(e){p(""!==e?{query:e}:{})}(e.target.value)},autoComplete:"off"}),(0,u.jsx)("button",{type:"submit",children:"Search"})]}),(0,u.jsx)(i.Z,{error:x,isFetching:f,movies:m})]})}},3157:function(e,t,r){var n=r(4165),a=r(5861),c=r(5671),s=r(3144),i=r(1243),o=function(){function e(){(0,c.Z)(this,e),this.axiosInstance=i.Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"aa1de53af4f58d0982608e428ee96b57"}})}return(0,s.Z)(e,[{key:"getTrendingMovies",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"day",e.prev=1,e.next=4,this.axiosInstance.get("/trending/all/".concat(t));case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0438\u0445 \u0444\u0456\u043b\u044c\u043c\u0456\u0432 ",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"searchMovies",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/search/movie",{params:{query:t}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0448\u0443\u043a\u0443 \u0444\u0456\u043b\u044c\u043c\u0443",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieDetails",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/movie/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieImage",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://image.tmdb.org/t/p/w300/").concat(t),e.next=4,i.Z.get(r,{responseType:"blob"});case 4:return a=e.sent,e.abrupt("return",URL.createObjectURL(a.data));case 8:e.prev=8,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0456\u0434 \u0447\u0430\u0441 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieCredits",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/movie/".concat(t,"/credits"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0430\u043a\u0442\u043e\u0440\u0441\u044c\u043a\u043e\u0433\u043e \u0441\u043a\u043b\u0430\u0434\u0443:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMovieReviews",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/movie/".concat(t,"/reviews"));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432 \u043f\u0440\u043e \u0444\u0456\u043b\u044c\u043c:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.Z=new o}}]);
//# sourceMappingURL=134.731c5d36.chunk.js.map